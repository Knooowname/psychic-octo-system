{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/WT/wt_web/src/components/ui/Button/Button.tsx"],"sourcesContent":["\r\ninterface ButtonProps {\r\n    children: React.ReactNode,\r\n    type?: 'submit' | 'reset' | 'button',\r\n    classname?: string,\r\n    onClick?: () => void,\r\n    disabled?: boolean,\r\n}\r\n\r\nexport const Button = ({children, type, classname, onClick, disabled}: ButtonProps) => {\r\n    return (\r\n        <button disabled={disabled} className={classname} type={type} onClick={onClick} >\r\n            {children}\r\n        </button>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AASO,MAAM,SAAS,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAc;IAC9E,qBACI,8OAAC;QAAO,UAAU;QAAU,WAAW;QAAW,MAAM;QAAM,SAAS;kBAClE;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/WT/wt_web/src/components/ui/FormInput/FormInput.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from \"react\"\r\n\r\ninterface FormInputProps {\r\n    type: string;\r\n    placeholder: string;\r\n    label: string;\r\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n    value?: string;\r\n    errorMessage?: string;\r\n    accept?: string\r\n}\r\n\r\nexport const FormInput = React.forwardRef<HTMLInputElement, FormInputProps>((props, ref) => {\r\n    \r\n    const {label, errorMessage, ...otherProps} = props\r\n    \r\n    return (\r\n        <label className=\"flex flex-col gap-[2px] font-normal cursor-pointer\">\r\n            <span className=\"font-light text-gray-400 text-sm\">{label}</span>\r\n            <input className=\"text-black-400 p-0.5 w-70 h-10 border-1 border-blue-300 rounded pl-2 cursor-pointer\" {...otherProps} ref={ref} />\r\n            {errorMessage && <span className=\"text-red-500 text-sm\">{errorMessage}</span>}\r\n        </label>\r\n    )\r\n})\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAcO,MAAM,0BAAY,qMAAA,CAAA,UAAK,CAAC,UAAU,CAAmC,CAAC,OAAO;IAEhF,MAAM,EAAC,KAAK,EAAE,YAAY,EAAE,GAAG,YAAW,GAAG;IAE7C,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAoC;;;;;;0BACpD,8OAAC;gBAAM,WAAU;gBAAuF,GAAG,UAAU;gBAAE,KAAK;;;;;;YAC3H,8BAAgB,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGrE","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/WT/wt_web/src/hooks/useAppDispatch.ts"],"sourcesContent":["import { AppDispatch } from \"@/redux/store\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport const useAppDispatch: () => AppDispatch = useDispatch\r\n"],"names":[],"mappings":";;;AACA;;AAEO,MAAM,iBAAoC,yJAAA,CAAA,cAAW","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/WT/wt_web/src/hooks/useAuth.ts"],"sourcesContent":["import { User } from \"@/shared/types/user.types\"\r\nimport { useAppDispatch } from \"./useAppDispatch\"\r\nimport { useAppSelector } from \"./useAppSelector\"\r\nimport { clearUser, setUser } from \"@/redux/reducers/userSlice\"\r\n\r\nexport const useAuth = () => {\r\n    const dispatch = useAppDispatch()\r\n    const user = useAppSelector(state => state.user.user)\r\n\r\n    const login = (userData: User) => {\r\n        localStorage.setItem('user', JSON.stringify(userData))\r\n        dispatch(setUser(userData))\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('user')\r\n        dispatch(clearUser())\r\n    }\r\n\r\n    return {user, login, logout}\r\n}"],"names":[],"mappings":";;;AACA;AACA;AACA;;;;AAEO,MAAM,UAAU;IACnB,MAAM,WAAW,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD;IAC9B,MAAM,OAAO,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,CAAA,QAAS,MAAM,IAAI,CAAC,IAAI;IAEpD,MAAM,QAAQ,CAAC;QACX,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,SAAS,CAAA,GAAA,qIAAA,CAAA,UAAO,AAAD,EAAE;IACrB;IAEA,MAAM,SAAS;QACX,aAAa,UAAU,CAAC;QACxB,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACrB;IAEA,OAAO;QAAC;QAAM;QAAO;IAAM;AAC/B","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/WT/wt_web/src/components/AuthForm/AuthForm.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { z } from \"zod\"\r\nimport { Button } from \"../ui/Button/Button\"\r\nimport { FormInput } from \"../ui/FormInput/FormInput\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport Link from \"next/link\"\r\nimport { api } from \"@/pages/api/api\"\r\nimport { fetchConfig } from \"@/api/fetchConfig\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { setUser } from \"@/redux/reducers/userSlice\"\r\nimport { APICOMMAND } from \"@/shared/types/command.types\"\r\nimport { fetchTasksExecutor } from \"@/redux/reducers/taskSlice\"\r\nimport { useAppSelector } from \"@/hooks/useAppSelector\"\r\nimport { useAppDispatch } from \"@/hooks/useAppDispatch\"\r\nimport { useEffect } from \"react\"\r\nimport { useAuth } from \"@/hooks/useAuth\"\r\n\r\nconst authFormSchema = z.object({\r\n    login: z.string().min(1, 'Поле не может быть пустым'),\r\n    password: z.string().min(1, 'Поле не может быть пустым'),\r\n})\r\n\r\ntype AuthFormType = z.infer<typeof authFormSchema>\r\n\r\nexport const AuthForm = () => {\r\n\r\n    const router = useRouter()\r\n    const dispatch = useAppDispatch()\r\n    const tasks = useAppSelector(state => state.task.tasks)\r\n    const {user, login} = useAuth()\r\n\r\n    const { register, handleSubmit, formState: { errors } } = useForm<AuthFormType>({\r\n        resolver: zodResolver(authFormSchema)\r\n    })\r\n\r\n    const handleClickAuth = async (data: AuthFormType) => {\r\n        try {\r\n            const config = await fetchConfig()\r\n            const response: Response | undefined = await api(APICOMMAND.AUTHUSER, data, config)\r\n\r\n            if (!response || !response.ok) {\r\n                throw new Error('Ошибка авторизации');\r\n            }\r\n\r\n            const dataUser = await response?.json()\r\n            login(dataUser.data[0])\r\n            console.log(localStorage.getItem('user'))\r\n            dispatch(setUser(dataUser.data[0]))\r\n            dispatch(fetchTasksExecutor(dataUser.data[0].id))\r\n            router.push('/')\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if(user) {\r\n            router.push('/')\r\n        }\r\n    }, [user])    \r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={handleSubmit(handleClickAuth)} name=\"authForm\" className=\"flex flex-col gap-[16px] items-center justify-center border-1 border-sky-300 pt-12 pb-12 pl-10 pr-10 rounded-[20px] shadow-md\">\r\n                <h2 className=\"font-medium text-lg m-0\">Авторизация</h2>\r\n                <div className=\"flex flex-col gap-[10px]\">\r\n                    <FormInput placeholder=\"E-mail\" type=\"text\" label=\"E-mail\" {...register('login')} errorMessage={errors.login?.message} />\r\n                    <FormInput placeholder=\"Пароль\" type=\"password\" label=\"Пароль\" {...register('password')} errorMessage={errors.password?.message} />\r\n                </div>\r\n                <Button classname={\"font-medium bg-blue-500 pl-7 pr-7 pt-2 pb-2 rounded flex justify-center items-center text-white cursor-pointer\"} type=\"submit\">\r\n                    Отправить\r\n                </Button>\r\n                <Link href={'/register'}>\r\n                    <Button classname=\"cursor-pointer\">\r\n                        Регистрация\r\n                    </Button>\r\n                </Link>\r\n            </form>\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;;;;;;;;;;;;;;;;;;AAmBA,MAAM,iBAAiB,iLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5B,OAAO,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,UAAU,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAChC;AAIO,MAAM,WAAW;IAEpB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD;IAC9B,MAAM,QAAQ,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,CAAA,QAAS,MAAM,IAAI,CAAC,KAAK;IACtD,MAAM,EAAC,IAAI,EAAE,KAAK,EAAC,GAAG,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;IAE5B,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAgB;QAC5E,UAAU,CAAA,GAAA,8JAAA,CAAA,cAAW,AAAD,EAAE;IAC1B;IAEA,MAAM,kBAAkB,OAAO;QAC3B,IAAI;YACA,MAAM,SAAS,MAAM,CAAA,GAAA,yHAAA,CAAA,cAAW,AAAD;YAC/B,MAAM,WAAiC,MAAM,CAAA,GAAA,0HAAA,CAAA,MAAG,AAAD,EAAE,0IAAA,CAAA,aAAU,CAAC,QAAQ,EAAE,MAAM;YAE5E,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,EAAE;gBAC3B,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,WAAW,MAAM,UAAU;YACjC,MAAM,SAAS,IAAI,CAAC,EAAE;YACtB,QAAQ,GAAG,CAAC,aAAa,OAAO,CAAC;YACjC,SAAS,CAAA,GAAA,qIAAA,CAAA,UAAO,AAAD,EAAE,SAAS,IAAI,CAAC,EAAE;YACjC,SAAS,CAAA,GAAA,qIAAA,CAAA,qBAAkB,AAAD,EAAE,SAAS,IAAI,CAAC,EAAE,CAAC,EAAE;YAC/C,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;QAClB;IACJ;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAG,MAAM;YACL,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;KAAK;IAET,qBACI;kBACI,cAAA,8OAAC;YAAK,UAAU,aAAa;YAAkB,MAAK;YAAW,WAAU;;8BACrE,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,kJAAA,CAAA,YAAS;4BAAC,aAAY;4BAAS,MAAK;4BAAO,OAAM;4BAAU,GAAG,SAAS,QAAQ;4BAAE,cAAc,OAAO,KAAK,EAAE;;;;;;sCAC9G,8OAAC,kJAAA,CAAA,YAAS;4BAAC,aAAY;4BAAS,MAAK;4BAAW,OAAM;4BAAU,GAAG,SAAS,WAAW;4BAAE,cAAc,OAAO,QAAQ,EAAE;;;;;;;;;;;;8BAE5H,8OAAC,4IAAA,CAAA,SAAM;oBAAC,WAAW;oBAAkH,MAAK;8BAAS;;;;;;8BAGnJ,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAM;8BACR,cAAA,8OAAC,4IAAA,CAAA,SAAM;wBAAC,WAAU;kCAAiB;;;;;;;;;;;;;;;;;;AAOvD","debugId":null}}]
}